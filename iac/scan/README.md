# Ermetic GitHub Action - IaC Scan

Use this Ermetic GitHub action to scan your infrastructure-as-code (IAC) pipeline for security issues. Doing so can help
you identify and remediate configuration issues before your cloud resources are deployed.

<img alt="Ermetic" src="../../media/logo.svg " width="300" />

## Use the Ermetic GitHub Action

## GitHub Action Parameters

| Parameter            | Description                                                                                                                                                                                                                                                                                                                                                                                                     | Default       | Example                                                                     |
|----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|-----------------------------------------------------------------------------|
| api-token            | (Required) The API token used to communicate with Ermetic. Generated in the Ermetic Console during initial GitHub Actions setup.                                                                                                                                                                                                                                                                                |               |                                                                             |
| api-url              | (Required) The URL of the Ermetic API. The API URL varies based on the region in which your Ermetic environment is deployed.                                                                                                                                                                                                                                                                                    |               | `https://us.app.ermetic.com/`                                               |
| exclude-paths        | Exclude specific paths from the scan.                                                                                                                                                                                                                                                                                                                                                                           |               | `dev/`                                                                      |
| exclude-policies     | The IDs of any Ermetic policies to exclude from the scan. This parameter is mutually exclusive with \`policies\` such that a value can only be entered for one of the two. You can use glob patterns as wildcards to define a range of policies. For example, `exclude-policies aws-s3-*` would exclude all policies related to AWS S3 buckets from the scan.                                                                                                                                                                                                                                     |               | `aws-iam-role-public-access-exists-terraform`                                      |
| fail-on-min-severity | The minimum policy severity that should return an exit code different from 0, and fail the build workflow. If no value is defined, the workflow will not fail. Possible values: `information` `low` `medium` `high` `critical`                                                                                                                                                                                  |               | `critical`                                                                  |
| logs                 | Whether to print log messages to the standard workflow output. Log messages include information about the run process of the scanner and debug information, such as the number of files/lines scanned. Possible values: `true` `false`                                                                                                                                                                          |               | `true`                                                                      |
| min-severity         | The minimum severity of Ermetic policies that you want to include in the scan. Possible values: `information` `low` `medium` `high` `critical`                                                                                                                                                                                                                                                                  | `information` | `medium`                                                                    |
| output-file-formats  | The format/s of the report output file/s which will be exported. Possible values: `csv` `json` `junit` `sarif`                                                                                                                                                                                                                                                                                                  | `json`        | `json,csv`                                                                  |
| output-file-name     | The name of the report output file/s which will be exported. If multiple formats are selected, all files will have the same name.                                                                                                                                                                                                                                                                               | `results`     | `results`                                                                   |
| output-path          | The export path for the report output file/s.                                                                                                                                                                                                                                                                                                                                                                   |               | `results/`                                                                  |
| paths                | The repository path/s that will be scanned by Ermetic, entered as a comma separated list. If left blank, Ermetic will scan the entire repository.                                                                                                                                                                                                                                                               |               | `prod/,stg/`                                                                |
| policies             | The IDs of the Ermetic policies that will be used to scan the repository, entered as a comma separated list. If no values are entered, all policies will be scanned. This parameter is mutually exclusive with \`exclude-policies\` such that a value can only be entered for one of the two. You can use glob patterns as wildcards to define a range of policies to include. For example, `policies aws-s3-*` would include all policies related to AWS S3 buckets in the scan. For information about how to retrieve policy ID information from the Ermetic CLI, refer to Ermetic documentation. |               | `aws-iam-role-public-access-exists-terraform,aws-sqs-queue-encryption-disabled-terraform` |
| silent               | Whether to print scan result content to the standard workflow output. Scan result output contains detailed information about issues found during scanning. Independent from logs. Possible values: `true` `false`                                                                                                                                                                                               | `false`       | `false`                                                                     |
| types                | The IaC frameworks that Ermetic scans. If no value is entered, Ermetic scans all frameworks. Possible values: `terraform` `terraform-plan` `cloudformation`                                                                                                                                                                                                                                                     |               | `terraform`                                                                 |
